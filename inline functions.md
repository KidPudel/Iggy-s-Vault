function that is injected into the flow
